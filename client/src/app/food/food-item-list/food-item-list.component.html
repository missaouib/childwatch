<div class="row">
	<h3 class="text-primary">Food Items </h3>	
	<div *ngIf="show" class="pull-right">
		<input class="search" type="text" [(ngModel)]="search"  (input)="searchList()" placeholder="Search..."/>
		<i *ngIf="search" (click)="search=undefined;searchList()" class="text-danger fa fa-close"></i>
		<a *ngIf="false"><span><i class="fa fa-plus"></i> Add...</span></a>
		<span dropdown container="body">
			<a dropdownToggle (click)="false"><i class="fa fa-filter"></i> Filter<span *ngIf="filter !== 'ALL'">: <strong>{{filter.toUpperCase()}}</strong></span></a>
			<ul *dropdownMenu class="dropdown-menu">
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'ALL' )">SHOW ALL</a></li>
				<li class="divider dropdown-divider"></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'milk' )">Milk</a></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'vegetable' )">Vegetables</a></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'fruit' )">Fruit</a></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'meat' )">Meats</a></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'grain' )">Grains</a></li>
				<li class="divider dropdown-divider"></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'infant' )">Infant</a></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'cn' )">CN Items</a></li>
				<li ><a class="dropdown-item" (click)="filterFoodItems( 'other' )">Other</a></li>
				<li class="divider dropdown-divider"></li>
				<li><a class="dropdown-item disabled">Favorites</a></li>
			</ul>
		</span>
	</div>		
	<br />
</div>


<div *ngIf="!show">
	<p><strong><em>Set a meal name/type to show food items</em></strong></p>
</div>

<div class="row" *ngIf="show">
	<table class="table table-condensed" >
		<tr *ngFor="let foodItem of pagedFoodItems()" dnd-draggable [dragEnabled]="true" [dragData]="foodItem" >
			<td class="col=sm-1" [ngSwitch]="foodItem.foodComponent.icon">
				<img class="small-img" *ngSwitchCase="'milk'" src="/assets/img/food/milk.svg" />
				<img class="small-img" *ngSwitchCase="'meat'" src="/assets/img/food/meat.svg" />
				<img class="small-img" *ngSwitchCase="'vegetable'" src="/assets/img/food/vegetable.svg" />
				<img class="small-img" *ngSwitchCase="'fruit'" src="/assets/img/food/fruit.svg" />
				<img class="small-img" *ngSwitchCase="'grain'" src="/assets/img/food/grain.svg" />
				<img class="small-img" *ngSwitchCase="'infant'" src="/assets/img/food/infant.svg" />
				<img class="small-img" *ngSwitchCase="'cn'" src="/assets/img/food/cn.svg" />
				<img class="small-img" *ngSwitchCase="'other'" src="/assets/img/food/other.svg" />

			</td>
			<td class="col-sm-10">
				<strong class="text-primary">
					<span class="hidden-sm hidden-md">{{foodItem.shortDescription}}</span>
					<span class="hidden-lg">{{limit( foodItem.shortDescription )}}</span>
				</strong><br />
				<span class="hidden-sm hidden-xs"><em>{{foodItem.foodComponent.description}}</em></span>
			</td>
			<td class="col-sm-1">
				<i (click)="foodItem.favorite = !foodItem.favorite" class="text-warning fa" [class.fa-star-o]="!foodItem.favorite" [class.fa-star]="foodItem.favorite"></i>
			</td>
		</tr>				
	</table>

	<span *ngIf="totalItems > 10">
	<pagination class="pagination-sm" 
				[totalItems]="totalItems" 
				(numPages)="totalItems" 
				[(ngModel)]="currentPage" 
				[maxSize]="3" 
				[boundaryLinks]="true" 
				[rotate]="false" 
				(numPages)="numPages = $event"
				previousText="&lsaquo;" 
				nextText="&rsaquo;" 
				firstText="&laquo;" 
				lastText="&raquo;"></pagination>
	</span>

</div>
